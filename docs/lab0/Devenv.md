---
parent: Lab0 开始之前
nav_order: 0
---

# 开发环境配置

所谓“工欲善其事，必先利其器”，各位在做 OJ 题的时候用网页编辑器甚至记事本都可以完
成，但对于有一定规模的项目就得先配置开发环境。

> 开发环境差异导致的 bug
>
> czg 大二写 OSLab 时曾遇到过这样一个 bug：作为 OS 的一部分，czg 需要实现一个文
> 件系统。而为了在其中载入测使用的文件，他需要编写一个
> [mkfs](https://linux.die.net/man/8/mkfs) 工具格式化镜像文件并把目录中用于测试的文件复制到
> 新建的文件系统根目录下。
>
> 为了完成读取文件的操作，czg 使用了
> [readdir](https://linux.die.net/man/3/readdir) 函数。这个函数不保证读取文件的
> 顺序，但在 czg 使用的系统中，调用这个函数读到的前两项必定是 '.'（当前目录）和
> '..'（父目录）。
>
> 没有认真 RTFM 的 czg 很高兴地硬编码跳过了每个目录的前两项文件。于是在提交上
> OJ 之后，这个实现就因为没有跳过当前目录而无线递归爆栈了。czg 花了一个星期来调
> 试这个 bug，但最后还是找老师要了后台的 log，并自己开了一个虚拟机进行测试才找出
> bug。
>
> ![czg 当时的提交记录](../assets/oslab3.jpg)
